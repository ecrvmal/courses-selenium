"""
–ê–±—É –∏ –±–∞–Ω–∞–Ω—ã
–ü–æ–º–æ–≥–∏—Ç–µ –ê–±—É –Ω–∞–π—Ç–∏ –±–∞–Ω–∞–Ω—ã –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

1Ô∏è‚É£ –° –ø–æ–º–æ—â—å—é Selenium –∑–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç-—Ç—Ä–µ–Ω–∞–∂—ë—Ä.
2Ô∏è‚É£ –ù–∞ —Å–∞–π—Ç–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "–ò—Å–∫–∞—Ç—å –±–∞–Ω–∞–Ω—ã", –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —Ä–∞–Ω–¥–æ–º–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–ø–∏—é —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –¥—Ä—É–≥–∏–º URL.
3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ .url_contains("...") –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–∫–∞ –≤ URL –±—É–¥–µ—Ç —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ —Ç–µ–∫—Å—Ç–∞ "qLChv49", —ç—Ç–æ –±—É–¥–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–º, —á—Ç–æ –≤—ã –ø–æ–ø–∞–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –±–∞–Ω–∞–Ω–∞–º–∏.
4Ô∏è‚É£ –ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –∫–Ω–æ–ø–∫–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ª–æ–≤" –∏ –∏–∑–≤–ª–µ–∫–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ —Ç–µ–≥–∞ <p>.
5Ô∏è‚É£ –í—Å—Ç–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ –ø–æ–ª–µ –Ω–∏–∂–µ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Stepik.
üü¢ –í–Ω–∏–º–∞–Ω–∏–µ: –ö–Ω–æ–ø–∫–∞ "–ò—Å–∫–∞—Ç—å –±–∞–Ω–∞–Ω—ã" –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Selenium!

üì¢ –í–∞–∂–Ω–æ: –ù–∞–ø–æ–º–∏–Ω–∞—é, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç WebDriverWait(browser, 5).until(EC.url_contains("qLChv49")).

–ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤–µ—Ä–Ω—ë—Ç True –≤ —Ç–µ—á–µ–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ (—Ç–æ –µ—Å—Ç—å, –µ—Å–ª–∏ URL –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç "qLChv49"), —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –≤—ã–∑–æ–≤–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ TimeoutException.

–í–Ω–∏–º–∞–Ω–∏–µ, —Å–ø–æ–π–ª–µ—Ä!
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å while True, break, continue, try, except, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—Å–ª–∏ WebDriverWait –Ω–µ –Ω–∞–π–¥—ë—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ URL, –æ–Ω –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ TimeoutException. –í–∞–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ–≥–æ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ü–∏–∫–ª.

"""
from time import sleep

from selenium import webdriver
from selenium.common import TimeoutException
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

url = 'https://parsinger.ru/selenium/9/9.4.1/3VT6JyXnI7EQqG0632xSAQyD4Z.html'


with webdriver.Chrome() as browser:
    browser.get(url)
    sleep(2)
    pass_found = False

    while not pass_found:
        browser.find_element(By.LINK_TEXT, "–ò—Å–∫–∞—Ç—å –±–∞–Ω–∞–Ω—ã").click()
        sleep(1)
        try:
            WebDriverWait(browser, 1).until(EC.url_contains("qLChv49"))
            pass_found = True
        except TimeoutException:
            pass

    sleep(3)
    browser.find_element(By.ID, "checkButton").click() # Button "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ª–æ–≤"
    pass_test = browser.find_element(By.TAG_NAME, "p").text
    sleep(5)
    print(f'{pass_test=}')